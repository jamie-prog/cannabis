"use strict";Shopify.theme.jsCollection={init:function(e){Shopify.theme.jsCollection=$.extend(this,Shopify.theme.getSectionData(e)),1==this.enable_sorting&&$("#sort-by").val($("#sort-by").data("default-sort")),1!=this.enable_filter&&1!=this.enable_sorting||$("#tag_filter, #sort-by").on("change",function(){Shopify.theme.jsCollection.filterURL()}),$("[data-option-filter]").length&&$("[data-tag-filter-checkbox]:checked").each(function(){Shopify.theme.jsCollection.multiTagFilter.showSelectedFilter($(this))}),this.enable_breadcrumb&&"basic_pagination"==this.pagination_type&&Shopify.theme.breadcrumbs.init(this.number_of_pages),$("body").on("click","[data-option-filter]",function(e){e.preventDefault(),$(this).find("input").prop("checked",!0),Shopify.theme.jsCollection.multiTagFilter.init($(this)),Shopify.theme.scrollToTop($(".collection__content"))}),$("body").on("click","[data-clear-filter]",function(){var e=$(this).siblings("[data-option-filter]");$("#tag_filter").find("option:eq(0)").prop("selected",!0),Shopify.theme.jsCollection.multiTagFilter.clearSelectedFilter(e),Shopify.theme.scrollToTop($(".collection__content"))})},filterURL:function(){var e=[],t="",i="",o=($.url("hostname"),$.url("1")?"/"+$.url("1")+"/":""),l=$.url("2")?$.url("2")+"/":"",n=($.url("3"),o+l);if(t=$("#sort-by").length?$("#sort-by").val():url("?sort_by"),$("#tag_filter").length&&$("#tag_filter").data("default-collection")!=$("#tag_filter").val()){var a=$("#tag_filter").val().substr($("#tag_filter").val().lastIndexOf("/")+1);"all"!=a&&($.inArray(a,e)>-1||e.unshift(a))}$("[data-option-filter] input:checked").each(function(){e.push($(this).val())}),e=$.makeArray(e),$.each(e,function(t,o){t!=e.length-1?i+=e[t]+"+":i+=e[t]}),Shopify.theme.queryParameters.sort_by=t,t="?"+$.param(Shopify.theme.queryParameters),this.processUrl(n,i,t)},processUrl:function(e,t,i){var o;o=e+t+(i=i.replace(/\page=(\w+)&/,"")),this.updateView(o)},updateView:function(e){$.ajax({type:"GET",url:e,beforeSend:function(){$(".collection-matrix").addClass("fadeOut animated loading-in-progress")},success:function(e){},error:function(t,i,o){console.log(t),console.log(i),console.log(o),location.replace(location.protocol+"//"+location.host+e)},dataType:"html"}).then(function(t){var i=$(".breadcrumb__container"),o=$(".collection-matrix"),l=$(".collection__main"),n=$(t).find(".breadcrumb__container").html();i.html(n),o.removeClass("loading-in-progress");var a=$(t).find(".collection-matrix__wrapper"),r=$(t).find(".container--pagination"),s=$(t).find(".container--no-products-in-collection");a.length?(l.empty(),l.append(a)):(l.empty(),l.append(s)),l.append(r),window.history&&window.history.pushState&&window.history.pushState("","",e),1==Shopify.theme_settings.enable_shopify_collection_badges&&Shopify.theme.productReviews(),Shopify.theme_settings.show_multiple_currencies&&convertCurrencies()})},multiTagFilter:{init:function(e){this.showSelectedFilter(e),Shopify.theme.jsCollection.filterURL(),"types"!==$.url(2)&&"vendors"!==$.url(2)||$(".block__tag-filter").remove()},showSelectedFilter:function(e){var t=e.parents(".sidebar-toggle-active"),i=e.parents(".tag-filter__item");if(i.addClass("is-active"),i.siblings(":not(.is-active)").addClass("is-hidden"),i.find("[data-clear-filter]").removeClass("is-hidden"),t.length){var o=t.find('[data-sidebar-block__toggle-icon="closed"]');Shopify.theme.jsSidebar.openSidebarBlock(o)}},clearSelectedFilter:function(e){var t=e.parents(".tag-filter__item");t.removeClass("is-active").find("input").prop("checked",!1),t.siblings().removeClass("is-hidden"),t.find("[data-clear-filter]").addClass("is-hidden"),Shopify.theme.jsCollection.filterURL()}},unload:function(e){$("#tag_filter, #sort-by").off(),$("[data-option-filter]").off(),$("[data-reset-filters]").off(),$("[data-clear-filter]").off(),Shopify.theme.breadcrumbs.unload()}};